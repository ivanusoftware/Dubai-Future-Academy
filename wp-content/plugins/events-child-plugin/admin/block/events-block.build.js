!function(e){var t={};function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(o,a,function(t){return e[t]}.bind(null,a));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var i=wp.i18n.__,c=wp.components,s=c.PanelBody,u=c.SelectControl,g=c.RangeControl,p=c.ToggleControl,m=c.CheckboxControl,f=c.Toolbar,d=wp.element,b=d.Component,h=d.Fragment,w=wp.blockEditor,y=w.BlockControls,v=w.InspectorControls,T=w.PanelColorSettings,C=wp.serverSideRender,E=function(e){function t(){l(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={categories:[],tags:[]},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this;wp.apiFetch({path:"/dff/get_terms?tax=events_categories"}).then((function(t){var n=[];0<Object.keys(t).length&&Object.keys(t).map((function(e){n[e]=t[e]})),e.setState({categories:n})})),wp.apiFetch({path:"/dff/get_terms?tax=events_tags"}).then((function(t){var n=[];0<Object.keys(t).length&&Object.keys(t).map((function(e){n[e]=t[e]})),e.setState({tags:n})}))}},{key:"setCategories",value:function(e,t){var n=this.props,o=n.attributes,l=n.setAttributes,r=o.checkedCats;l(t?{checkedCats:[].concat(a(r),[e])}:{checkedCats:r.filter((function(t){return t!==e}))})}},{key:"setTags",value:function(e,t){var n=this.props,o=n.attributes,l=n.setAttributes,r=o.checkedTags;l(t?{checkedTags:[].concat(a(r),[e])}:{checkedTags:r.filter((function(t){return t!==e}))})}},{key:"fetchPosts",value:function(){wp.apiFetch({path:"/wp-media-upload/v1/add-image-metadata",method:"POST",data:{postId:selectedID}}).then((function(e){e.success}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.attributes,o=t.setAttributes,a=n.bgColor,l=n.titleColor,r=n.textColor,c=n.checkedCats,d=n.checkedTags,b=n.eLayout,w=n.featureImageToggle,E=n.paginationToggle,k=n.dateTimeToggle,O=n.openNewTabToggle,_=n.catsToggle,N=n.tagsToggle,S=n.openUpcomingToggle,j=n.orderBy,x=n.totalEvents;return console.log(d),wp.element.createElement(h,null,wp.element.createElement(y,null,wp.element.createElement(f,{className:"list-view"===b&&"active"},wp.element.createElement("button",{className:"components-button layout-toolbar",title:"List View",onClick:function(){o({eLayout:"list-view"})}},wp.element.createElement("span",{className:"dashicons dashicons-list-view"}))),wp.element.createElement(f,{className:"grid-view"===b&&"active"},wp.element.createElement("button",{className:"components-button layout-toolbar",title:"Grid View",onClick:function(){o({eLayout:"grid-view"})}},wp.element.createElement("span",{className:"dashicons dashicons-grid-view"}))),wp.element.createElement(f,{className:"card-view"===b&&"active"},wp.element.createElement("button",{className:"components-button layout-toolbar",title:"Card View",onClick:function(){o({eLayout:"card-view"})}},wp.element.createElement("span",{className:"dashicons dashicons-screenoptions"})))),wp.element.createElement(v,null,wp.element.createElement(s,{title:i("Events Settings"),initialOpen:!0},wp.element.createElement("label",{className:"inspector-mb-0"},"Number of events"),wp.element.createElement(g,{value:x,min:1,max:12,onChange:function(e){o({totalEvents:parseInt(e)})}})),wp.element.createElement(s,{title:i("Order By"),initialOpen:!1},wp.element.createElement(u,{value:j,options:[{label:i("Newest to Oldest"),value:"date"},{label:i("Menu Order"),value:"menu_order"}],onChange:function(e){o({orderBy:e})}})),wp.element.createElement(s,{title:i("Category"),initialOpen:!1},wp.element.createElement("div",{className:"limitHeight"},0<this.state.categories.length&&this.state.categories.map((function(t,n){return wp.element.createElement(m,{key:n,label:t.name,className:"checkbox-input",checked:jQuery.inArray(n,c)>-1,onChange:function(t){return e.setCategories(n,t)}})})))),wp.element.createElement(s,{title:i("Tags"),initialOpen:!1},wp.element.createElement("div",{className:"limitHeight"},0<this.state.tags.length&&this.state.tags.map((function(t,n){return wp.element.createElement(m,{key:n,label:t.name,className:"checkbox-input",checked:jQuery.inArray(n,d)>-1,onChange:function(t){return e.setTags(n,t)}})})))),wp.element.createElement(T,{title:i("Color Settings"),initialOpen:!1,colorSettings:[{label:i("Background Color"),value:a,onChange:function(e){return o({bgColor:void 0===e?"transparent":e})}},{label:i("Title Color"),value:l,onChange:function(e){return o({titleColor:void 0===e?"#000":e})}},{label:i("Text Color"),value:r,onChange:function(e){return o({textColor:void 0===e?"#000":e})}}]}),wp.element.createElement(s,{title:i("Toggles"),initialOpen:!1},wp.element.createElement(p,{label:wp.element.createElement("strong",null,i("Show Featured Image")),checked:w,onChange:function(){return o({featureImageToggle:!w})}}),wp.element.createElement(p,{label:wp.element.createElement("strong",null,i("Pagination")),checked:E,onChange:function(){return o({paginationToggle:!E})}}),wp.element.createElement(p,{label:wp.element.createElement("strong",null,i("Show Categories")),checked:_,onChange:function(){return o({catsToggle:!_})}}),wp.element.createElement(p,{label:wp.element.createElement("strong",null,i("Show Tags")),checked:N,onChange:function(){return o({tagsToggle:!N})}}),wp.element.createElement(p,{label:wp.element.createElement("strong",null,i("Show Event Date & Time")),checked:k,onChange:function(){return o({dateTimeToggle:!k})}}),wp.element.createElement(p,{label:wp.element.createElement("strong",null,i("Show only upcoming Events")),checked:S,onChange:function(){return o({openUpcomingToggle:!S})}}),wp.element.createElement(p,{label:wp.element.createElement("strong",null,i("Show detail in a new page")),checked:O,onChange:function(){return o({openNewTabToggle:!O})}}))),wp.element.createElement("div",{className:"events-listing"},wp.element.createElement(C,{block:"dff/events",attributes:{checkedCats:c,checkedTags:d,orderBy:j,totalEvents:x,dateTimeToggle:k,openNewTabToggle:O,openUpcomingToggle:S,paginationToggle:E,catsToggle:_,tagsToggle:N,featureImageToggle:w,eLayout:b,titleColor:l,textColor:r,bgColor:a}})))}}]),t}(b);wp.i18n.__;(0,wp.blocks.registerBlockType)("dff/events",{title:"DFF Events",icon:"calendar",category:"dff",description:"Display DFF Events in your website using this block.",attributes:{titleColor:{type:"string",default:"#000"},textColor:{type:"string",default:"#000"},bgColor:{type:"string",default:"transparent"},orderBy:{type:"string",default:"date"},totalEvents:{type:"int",default:12},eLayout:{type:"string",default:"list-view"},checkedTags:{type:"array",default:[]},checkedCats:{type:"array",default:[]},featureImageToggle:{type:"boolean",default:!0},paginationToggle:{type:"boolean",default:!0},openUpcomingToggle:{type:"boolean",default:!0},openNewTabToggle:{type:"boolean",default:!0},catsToggle:{type:"boolean",default:!0},tagsToggle:{type:"boolean",default:!0},dateTimeToggle:{type:"boolean",default:!0}},edit:E,save:function(e){return null}})}]);